<html><head>
  <meta charset="utf-8">
  <meta name="description" content="All about Dart control flow statements.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="sage, code, dart, control, flow, if, else, decision, loop, while, repetition, condition, selection, branching, switch, assert">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>Dart Control</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="../images/favicon.ico">
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="../prism.css">
  <script src="../prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="../sage.css">
  </head>
<body>

<div class="container">

<!-- header -->
<div class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="../images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>
    <div class="col  bottom-right">
        <a href="index.html#lang-index">index</a>&lt;--
    </div>
</div><hr>

<h1>Dart Control Flow</h1>

<div class="alert alert-secondary shadow-sm">
In computer programming, control flow statements are un-named blocks of code that can be executed or not depending of certain conditions. This facilitate creation of logical branches in the code that makes it smarter and less linear. The term flow is a metaphor of course because nothing actually flows.
</div>

<h2>Bookmarks:</h2>

<p>Dart has 7 control flow statements:</p>

<table class="table table-sm table-bordered">
<tr><th align="center">1</th>
<th><a href="#decision"/>if...else</th>
<td>decision &amp; branching statement
</td></tr>
<tr><th align="center">2</th>
<th><a href="#for-loop"/>for loop</th>
<td>repetitive statement with control variable
</td></tr>
<tr><th align="center">3</th>
<th><a href="#while-loop"/>while loop</th>
<td>repetitive statement with conditional start
</td></tr>
<tr><th align="center">4</th>
<th><a href="#do-while-loop"/>do-while loop</th>
<td>repetitive statement with conditional ending
</td></tr>
<tr><th align="center">5</th>
<th><a href="#switch-case"/>switch and case</th>
<td>branch selection statement
</td></tr>
<tr><th align="center">6</th>
<th><a href="#assert"/>assert</th>
<td>verification statement
</td></tr>
<tr><th align="center">7</th>
<th><a href="#try-catch"/>try...catch</th>
<td>error handling statement
</td></tr>
</table>


<h2><a id="decision"/>if...else</h2>

<p>This is by far the most useful statement in structured programming. It called the "decision" statement. It enables you to create two branches and to use a logical condition to make a decision. When condition is true one branch is executed, when false the other branch is executed.</p>

<div align="center">
  <img src="../images/decision.jpg" alt="decision" srcset="../images/decision.svg"
  width="500" class="img-fluid protect rounded shadow border" >
  <p>decision diagram</p>
</div>

<h4>Pattern:</h4>
<pre><code class="language-dart line-numbers">//syntax pattern
if (condition) {
    //true branch
    ...
}
else {
    //false branch
    ...
}
</code></pre>

<div class="alert alert-success">In Dart, condition is enclosed in round brackets like in JavaScript, however it can be only a logical expression, that return true or false and nothing else.</div>

<h2><a id="for-loop"/>for loop</h2>

<p>This is a repetitive statement. Repetition is controlled by a variable and one or several conditions. Let's analyze the conceptual diagram then the syntax:</p>

<div align="center">
  <img src="../images/classic-for.jpg" alt="loop" srcset="../images/classic-for.svg"
  width="500" class="img-fluid protect rounded shadow border" >
  <p>For/Loop Repetition</p>
</div>

<h4>Pattern:</h4>

<p>This statement starts with "for" keyword. Next, there is a set of three expressions enclosed in brackets and separated by semicolons like this: (declaration; condition; increment). Let's analyze the pattern:</p>

<pre><code class="language-dart line-numbers">//syntax pattern
for (var i = 0; i &lt; max_limit; i++) {
    //repetitive block
    ...
}
</code></pre>

<h4>break and continue</h4>

<p>You can alter the normal workflow of any repetitive statement by using two <em>transfer statements</em>. First is: "continue", enable one jump back at the beginning of the repetitive block. Second is: "break", enable one jump out of repetitive block.</p>

<ul>
<li>continue: shortcut a repetitive block</li>
<li>break: stop a repetitive block</li>
</ul>

<div align="center">
  <img src="../images/for-loop.jpg" alt="loop" srcset="../images/for-loop.svg"
  width="500" class="img-fluid protect rounded shadow border" >
  <p>For/Loop Repetition</p>
</div>


<pre><code class="language-dart line-numbers">//syntax pattern
for (var i = 0; i &lt; max_limit; i++) {
    //first block
    ...
    if (condition) continue;
    //second block
    ...
    if (condition) break;
    //third block
    ...
}
</code></pre>


<h2><a id="while-loop"/>while loop</h2>

<p>This statement starts with keyword "while". It uses one conditional expression to make a decision to start a repetitive block. After first execution the condition is evaluated again and enable more iterations as long as the condition is true. When the condition become false, the repetition stops.</p>

<p></p>
<div align="center">
  <img src="../images/while.jpg" alt="decision" srcset="../images/while.svg" width="500"
       class="img-fluid protect rounded shadow border" >
  <p>while loop diagram</p>
</div>


<h4>Pattern:</h4>
<pre><code class="language-dart line-numbers">//syntax pattern
while (condition) {
   //repetitive block
   ....
}
</code></pre>

<h2><a id="do-while-loop"/>do-while loop</h2>

<p>This statement start a block that will execute at least once. After first time execution a condition is evaluated. If the condition is true the block statement is repeated until the condition become false.</p>

<div align="center">
  <img src="../images/do-while.svg" alt="do-while"  width="400" class="img-fluid protect rounded shadow border" >
  <p>do-while diagram</p>
</div>

<h4>Pattern:</h4>
<pre><code class="language-dart line-numbers">//syntax pattern
do {
   //repetitive block
   ....
} while (condition);
</code></pre>

<h2><a id="switch-case"/>switch and case</h2>
<p>This is a selection statement that uses a control variable to make a jump table. For each value of the control variable you can create a different <em>"case block"</em> that is executed. If no case value matches the variable value, one final and <em>"default case"</em> is executed. </p>

<div align="center">
  <img src="../images/switch.jpg" alt="switch" srcset="../images/switch.svg"
  width="360" class="img-fluid protect rounded shadow border" >
  <p>Switch Diagram</p>
</div>

<h4>Pattern:</h4>
<pre><code class="language-dart line-numbers">//syntax pattern
var v = random(5)
switch (v) {
    case 1:
        //first case
        ...
        break;
    case 2:
        //second case
        ...
        break;
    case 3:
        //third case
        ...
        break;
    case 4:
        //forth case
        ...
        break;
    default:
        //default case
        ...
}
</code></pre>

<h4>Notes:&nbsp;</h4>

<ul>
<li>At the end of each case you have to use "break" statement;</li>
<li>For an empty case the break statement is optional;</li>
<li>Default case is optional and do not have a break at the end of block.</li>
</ul>

<p><b>Homework:&nbsp;</b>Let's implement this syntax pattern into a real program. Open and execute the following code snippet on-line:
<a href="https://repl.it/@elucian/dart-switch" target="_blank" rel="noopener noreferrer nofollow">dart-switch</a>
</p>

<h2><a id="assert"/>assert</h2>

<p>Next statement enable program interruption using a condition. The interruption can be accompanied by an optional message. This is a statement used frequent in our examples for testing post-conditions but also to document the training code.</p>

<h4>Pattern:</h4>
<pre><code class="language-dart line-numbers">//syntax pattern
assert(condition, message);
</code></pre>

<h4>Examples:</h4>

<pre><code class="language-dart line-numbers">//positive test
var x = 1;
assert(x == 1);

//negative test
var test = "is working";
assert(test = "working", "error!");
</code></pre>

<h2>Exceptions</h2>

<p>Before we can continue with next control statement you need to learn about Exceptions. In Dart, exceptions are instances of Exception class or a class derived from it. You can create your own exceptions. Exceptions can be raised using "throw" keyword.</p>

<h4>Pattern:</h4>

<p>Next patterns can be used to create exceptions.</p>

<pre><code class="language-dart line-numbers">//syntax pattern
throw "message"; //create an exception from a string
throw FormatException("message");

Exception myException; //define an exception
throw myException;

Error myError; //define an error
throw myError;

// exceptions are expressions
// so next function is valid:
void f() => throw UnimplementedError();
</code></pre>

<h2><a id="try-catch"/>try...catch</h2>

<p>This statement is used to fix a block of code that may have exceptions. The exceptions can be caused by the system or can be created by you in some situations using "throw" statement inside of try block.</p>

<div align="center">
  <img src="img/dart-try.svg" alt="try catch diagram"
  width="400" class="img-fluid protect rounded shadow border" >
  <p>try-catch diagram</p>
</div>

<h4>Sample pattern:</h4>

<p>Next is the most simple form of try block with two branches:</p>

<pre><code class="language-dart line-numbers">//syntax pattern
try {
    //protected block
    ...
} catch (e) {
    //catch all exceptions
    print('${e}');
    ...
}
</code></pre>

<h4>Full pattern:</h4>

<p>Next you can see a more complex try block with "finally" region:</p>

<pre><code class="language-dart line-numbers">//syntax pattern
try {
    //protected block
    ...
    throw FormatException("message");
    ...
} on exceptionType1 catch (e) {
    //first exception handler
    ...
} on exceptionType2 catch (e) {
    //second exception handler
    ...
} catch (e, s) {
    //all other exceptions
    ...
    rethrow; //propagate exception
} finally {
    //finalization block
    ...
}
</code></pre>

<h4>Notes:</h4>

<ul>
<li>catch can use one or two parameters: e="error" and s="StackTrace",</li>
<li>finally block is executed, whether or not an exception is thrown,</li>
<li>you can partially handle the exceptions by using "rethrow" keyword,</li>
<li>you can partially handle the exceptions by using "rethrow" keyword,</li>
<li>unlike Java, a function do not declare exceptions they might throw.</li>
</ul>

<hr>

<p><b>Read next:</b>
<a href="libraries.html">Libraries</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>
</div>
</body>
</html>